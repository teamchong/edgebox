diff --git a/core/config.h b/core/config.h
index cb5db1d0..1b21c7ba 100644
--- a/core/config.h
+++ b/core/config.h
@@ -705,6 +705,13 @@ unless used elsewhere */
 #define WASM_MEM_ALLOC_WITH_USAGE 0
 #endif
 
+/* Enable linear memory allocation callback for copy-on-write optimization.
+ * When enabled, embedders can register a callback that receives memory
+ * initialization data, enabling CoW memory mapping for fast instantiation. */
+#ifndef WAMR_BUILD_LINEAR_MEMORY_CALLBACK
+#define WAMR_BUILD_LINEAR_MEMORY_CALLBACK 1
+#endif
+
 #ifndef WASM_ENABLE_FUZZ_TEST
 #define WASM_ENABLE_FUZZ_TEST 0
 #endif
diff --git a/core/iwasm/common/wasm_memory.c b/core/iwasm/common/wasm_memory.c
index 10c651bc..4a3b2a7f 100644
--- a/core/iwasm/common/wasm_memory.c
+++ b/core/iwasm/common/wasm_memory.c
@@ -3,6 +3,7 @@
  * SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
  */
 
+#include "../include/wasm_export.h"
 #include "wasm_runtime_common.h"
 #include "../interpreter/wasm_runtime.h"
 #include "../aot/aot_runtime.h"
@@ -69,6 +70,13 @@ static void (*free_func)(
 
 static unsigned int global_pool_size;
 
+#if WAMR_BUILD_LINEAR_MEMORY_CALLBACK != 0
+/* Linear memory allocation callbacks for CoW optimization */
+static LinearMemoryAllocCallback linear_memory_alloc_callback = NULL;
+static LinearMemoryFreeCallback linear_memory_free_callback = NULL;
+static void *linear_memory_callback_user_data = NULL;
+#endif
+
 static uint64
 align_as_and_cast(uint64 size, uint64 alignment)
 {
@@ -77,6 +85,49 @@ align_as_and_cast(uint64 size, uint64 alignment)
     return aligned_size;
 }
 
+#if WAMR_BUILD_LINEAR_MEMORY_CALLBACK != 0
+void
+wasm_runtime_set_linear_memory_callbacks(LinearMemoryAllocCallback alloc_cb,
+                                         LinearMemoryFreeCallback free_cb,
+                                         void *user_data)
+{
+    linear_memory_alloc_callback = alloc_cb;
+    linear_memory_free_callback = free_cb;
+    linear_memory_callback_user_data = user_data;
+}
+
+void *
+wasm_try_alloc_linear_memory_cow(uint64 size,
+                                 const MemInitDataSegment *init_data,
+                                 uint32 init_data_count,
+                                 uint64 *actual_size_out)
+{
+    if (!linear_memory_alloc_callback)
+        return NULL;
+
+    return linear_memory_alloc_callback(size, init_data, init_data_count,
+                                        linear_memory_callback_user_data,
+                                        actual_size_out);
+}
+
+void
+wasm_free_linear_memory_cow(void *ptr, uint64 size)
+{
+    if (linear_memory_free_callback) {
+        linear_memory_free_callback(ptr, size, linear_memory_callback_user_data);
+    }
+    else {
+        os_munmap(ptr, size);
+    }
+}
+
+bool
+wasm_has_linear_memory_callback(void)
+{
+    return linear_memory_alloc_callback != NULL;
+}
+#endif /* WAMR_BUILD_LINEAR_MEMORY_CALLBACK */
+
 static bool
 wasm_memory_init_with_pool(void *mem, unsigned int bytes)
 {
@@ -1927,6 +1978,16 @@ wasm_deallocate_linear_memory(WASMMemoryInstance *memory_inst)
     map_size = 8 * (uint64)BH_GB;
 #endif
 
+#if WAMR_BUILD_LINEAR_MEMORY_CALLBACK != 0
+    /* If this memory was allocated via CoW callback, use CoW free */
+    if (memory_inst->is_cow_memory) {
+        uint64 cow_size = memory_inst->memory_data_size;
+        wasm_free_linear_memory_cow(memory_inst->memory_data, cow_size);
+        memory_inst->memory_data = NULL;
+        return;
+    }
+#endif /* WAMR_BUILD_LINEAR_MEMORY_CALLBACK */
+
 #if WASM_MEM_ALLOC_WITH_USAGE != 0
     (void)map_size;
     free_func(Alloc_For_LinearMemory,
diff --git a/core/iwasm/common/wasm_memory.h b/core/iwasm/common/wasm_memory.h
index b79ed4a6..df561608 100644
--- a/core/iwasm/common/wasm_memory.h
+++ b/core/iwasm/common/wasm_memory.h
@@ -147,6 +147,32 @@ wasm_allocate_linear_memory(uint8 **data, bool is_shared_memory,
                             uint64 init_page_count, uint64 max_page_count,
                             uint64 *memory_data_size);
 
+#if WAMR_BUILD_LINEAR_MEMORY_CALLBACK != 0
+/**
+ * Try to allocate linear memory using the CoW callback.
+ * Returns NULL if no callback is registered or if callback fails.
+ * @param actual_size_out If non-NULL, receives the actual size allocated
+ *                        (may be larger than requested for CoW snapshots)
+ */
+void *
+wasm_try_alloc_linear_memory_cow(uint64 size,
+                                 const MemInitDataSegment *init_data,
+                                 uint32 init_data_count,
+                                 uint64 *actual_size_out);
+
+/**
+ * Free linear memory allocated via CoW callback.
+ */
+void
+wasm_free_linear_memory_cow(void *ptr, uint64 size);
+
+/**
+ * Check if a linear memory callback is registered.
+ */
+bool
+wasm_has_linear_memory_callback(void);
+#endif /* WAMR_BUILD_LINEAR_MEMORY_CALLBACK */
+
 #ifdef __cplusplus
 }
 #endif
diff --git a/core/iwasm/include/wasm_export.h b/core/iwasm/include/wasm_export.h
index 44a45ded..f3b97ef3 100644
--- a/core/iwasm/include/wasm_export.h
+++ b/core/iwasm/include/wasm_export.h
@@ -90,6 +90,41 @@ typedef struct WASMMemory WASMMemoryType;
 #endif
 typedef WASMMemoryType *wasm_memory_type_t;
 
+/* Linear memory initialization data segment for CoW optimization */
+typedef struct MemInitDataSegment {
+    uint32_t offset;    /* Offset in linear memory */
+    uint32_t size;      /* Size of data segment */
+    const uint8_t *data; /* Pointer to segment data */
+} MemInitDataSegment;
+
+/* CoW linear memory allocation callback type */
+typedef void *(*LinearMemoryAllocCallback)(
+    uint64_t size,                       /* Requested memory size */
+    const MemInitDataSegment *init_data, /* Init data segments (optional) */
+    uint32_t init_data_count,            /* Number of init segments */
+    void *user_data,                     /* User-provided context */
+    uint64_t *actual_size_out);          /* Output: actual allocated size */
+
+/* CoW linear memory free callback type */
+typedef void (*LinearMemoryFreeCallback)(
+    void *ptr,        /* Memory pointer to free */
+    uint64_t size,    /* Size of memory region */
+    void *user_data); /* User-provided context */
+
+/**
+ * Set linear memory allocation callbacks for CoW (copy-on-write) optimization.
+ * When set, these callbacks will be used for linear memory allocation instead
+ * of the default allocator, enabling memory snapshot/restore functionality.
+ *
+ * @param alloc_cb callback for allocating linear memory (can return pre-initialized memory)
+ * @param free_cb callback for freeing linear memory
+ * @param user_data opaque pointer passed to callbacks
+ */
+WASM_RUNTIME_API_EXTERN void
+wasm_runtime_set_linear_memory_callbacks(LinearMemoryAllocCallback alloc_cb,
+                                         LinearMemoryFreeCallback free_cb,
+                                         void *user_data);
+
 typedef struct wasm_import_t {
     const char *module_name;
     const char *name;
diff --git a/core/iwasm/interpreter/wasm_runtime.h b/core/iwasm/interpreter/wasm_runtime.h
index 0ba2049a..b07adf24 100644
--- a/core/iwasm/interpreter/wasm_runtime.h
+++ b/core/iwasm/interpreter/wasm_runtime.h
@@ -124,9 +124,13 @@ struct WASMMemoryInstance {
          0: non-shared memory, > 0: shared memory */
     bh_atomic_16_t ref_count;
 
-    /* Four-byte paddings to ensure the layout of WASMMemoryInstance is the same
-     * in both 64-bit and 32-bit */
-    uint8 _paddings[4];
+    /* Whether the memory was allocated via CoW callback */
+    uint8 is_cow_memory;
+
+    /* Three-byte paddings to ensure the layout of WASMMemoryInstance is the same
+     * in both 64-bit and 32-bit.
+     * Changed from 4 bytes to 3 bytes to accommodate is_cow_memory. */
+    uint8 _paddings[3];
 
     /* Number bytes per page */
     uint32 num_bytes_per_page;
